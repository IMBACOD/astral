
json = {
    project_1: {
      work: {
        title: "Project title",
        info: "category | 2022",
        //video: "https://cloud.astral-geeks.com/s/23432asds/download/%D1%82%D0%B5%D1%81%D1%82%20%D1%81%D1%86%D0%B5%D0%BD%D1%8B0001-0250.mp4",
        photo: "https://cloud.astral-geeks.com/s/wwwe11/preview",

        text: [
          "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
        ]
      },
      client: {
        title: "categoi",
        company: "client"
      },
    },
    project_2: {
      work: {
        title: "Case",
        info: "data | 2022",
//video: "https://cloud.astral-geeks.com/s/222wweee/download/1863.mp4",
        photo: "https://cloud.astral-geeks.com/s/ph1/preview",
        slides: ["project_1","project_3"],
        text: [
          "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
        ]
      },
      client: {
        title: "categoi",
        company: "client"
      },
    },
    project_3: {
        work: {
          title: "Project title",
          info: "category | 2022",
          photo: "https://cloud.astral-geeks.com/s/asdsad/preview",
          slides: ["project_2","project_4"],
          text: [
            "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
          ]
        },
        client: {
          title: "categoi",
          company: "client"
        },
      },

      project_4: {
        work: {
          title: "Project title",
          info: "category | 2022",
          photo: "https://cloud.astral-geeks.com/s/eqwew/preview",
          slides: ["project_3","project_5"],
          text: [
            "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
          ]
        },
        client: {
          title: "categoi",
          company: "client"
        },
      },
      project_5: {
        work: {
          title: "Project title",
          info: "category | 2022",
          photo: "https://cloud.astral-geeks.com/s/23ff/preview",
          slides: ["project_4","project_6"],
          text: [
            "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
          ]
        },
        client: {
          title: "categoi",
          company: "client"
        },
      },
      project_6: {
        work: {
          title: "Project title",
          info: "category | 2022",
          photo: "https://cloud.astral-geeks.com/s/33rweee/preview",
          slides: ["project_5","project_7"],
          text: [
            "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
          ]
        },
        client: {
          title: "categoi",
          company: "client"
        },
      },
      project_7: {
        work: {
          title: "Project title",
          info: "category | 2022",
          photo: "https://cloud.astral-geeks.com/s/asds2/preview",
          slides: ["project_6","project_8"],
          text: [
            "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
          ]
        },
        client: {
          title: "categoi",
          company: "client"
        },
      },
      project_8: {
        work: {
          title: "Project title",
          info: "category | 2022",
          photo: "https://cloud.astral-geeks.com/s/3rq/preview",
          slides: ["project_7","project_9"],
          text: [
            "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
          ]
        },
        client: {
          title: "categoi",
          company: "client"
        },
      },
      project_9: {
        work: {
          title: "Project title",
          info: "category | 2022",
          photo: "https://cloud.astral-geeks.com/s/dfsf454/preview",
          slides: ["project_8","project_9"],
          text: [
            "As we enter the closer and probably no warmer, and to spend time there stillAlthough physically Antarctica is no closer and probably no warmer, and to spend time there stillugh pMeet my family. There are five of us – my parents, my elder brother, my baby sister and me. First, meet my mum and dad, Jane and Michael. My mum enjoys reading and my dad enjoys playing chess with my brother Ken. My mum is slim and rather tall. She has long red hair and big brown eyes. She has a very pleasant smile and a soft voice. My mother is very kind and understanding. We are real friends. She is a housewife. As she has three children, "
          ]
        },
        client: {
          title: "categoi",
          company: "client"
        },
      },


    }




    function showProject(projectName){
      const data = json[projectName];
      const modelProject = $('#modal_project');

      modelProject.find('.modal-work__video')[0].src = data.work.video;
      modelProject.find('.modal-work__photo')[0].src = data.work.photo;



      modelProject.find('.modal-work__title').text(data.work.title);
      modelProject.find('.modal-work__info').text(data.work.info);

      modelProject.find('.modal-work__client-title').text(data.client.title)
      modelProject.find('.modal-work__client-company').text(data.client.company)

      modelProject.find('.modal-work__text p').text(data.work.text[0])
      modelProject.find('.modal-work__text p').text(data.work.text[1])

      $('#modal_project').addClass('show');
      $("body").addClass('no-scroll');
    }


    $(function() {

      /* Modal
      ===========================*/
      const modalCall = $("[data-modal]");
      const modalClose = $("[data-close]");

      modalCall.on("click", function(event) {
        event.preventDefault();
        let $this = $(this);
        let modalId = $this.data('modal');
        showProject(modalId.replace('#modal_', ''))
      });

      /*
      ===========================*/

      modalClose.on("click", function(event) {
        event.preventDefault();
        let $this = $(this);
        let modalParent = $this.parents('.modal');
        modalParent.removeClass('show');
        $("body").removeClass('no-scroll');
      });

      $(".modal").on("click", function(event) {
        $(this).removeClass('show');
        $("body").removeClass('no-scroll');
      });
      $(".modal__dialog").on("click", function(event) {
        event.stopPropagation();
      });
    });

    /* slider
    ===========================*/

    const modalBtn = document.querySelectorAll('[data-project]');
    const body = document.body;

    modalBtn.forEach(item => {
      item.addEventListener('click', event => {
        let $this = event.currentTarget;
        let modalId = $this.getAttribute('data-project');
        showProject(modalId)
      });
    });




  $('img[data-photo]').addClass('img-enlargeable').click(function() {
    var src = $(this).attr('src');
    var modal;

    function removeModal() {
      modal.remove();
      $('body').off('keyup.modal-close');
    }
    modal = $('<div>').css({
      background: 'RGBA(0,0,0,.5) url(' + src + ') no-repeat center',
      backgroundSize: 'contain',
      width: '100%',
      height: '100%',
      position: 'fixed',
      zIndex: '10000',
      top: '0',
      left: '0',
      cursor: 'zoom-out'
    }).click(function() {
      removeModal();
    }).appendTo('body');
    //handling ESC
    $('body').on('keyup.modal-close', function(e) {
      if (e.key === 'Escape') {
        removeModal();
      }
    });
});
